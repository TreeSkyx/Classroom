<!DOCTYPE html>
<html>

<head></head>

<body>
    <div id="maincontainer"></div>
    <script>
        const doc = document.getElementById("maincontainer");
        doc.innerHTML = '<h2>Excerise04 : Javascript&DOM</h2>'

        // Change Background of the button
        var i = 0;
        function changeBg() {
            var color = ["red", "green", "blue", "pink", "lime", "aqua"];
            var txtColor = ["lime", "white", "green", "red", "pink", "black"];
            btn.style.backgroundColor = color[i];
            btn.style.color = txtColor[i];
            btn.style.border = "thin solid black";
            i = (i + 1) % color.length;
            const element = document.getElementById("maincontainer");
            element.appendChild(d);

        }

        var timer = 0; // Set interval for changeBg func.

        // add button to HTML
        function button() {
            var x = document.createElement("button");
            x.setAttribute("id", "btn");
            var t = document.createTextNode("Click me to display Date and Time");
            x.appendChild(t);
            doc.appendChild(x);
        }

        button();
        const btn = document.getElementById('btn'); // button object
        var check = 0;
        btn.addEventListener('click', () => {
            if (check == 0) {
                btn.style.position = "absolute";
                btn.style.top = "0px";
                btn.style.right = "0px";
                btn.innerHTML = Date();
                check += 1;
                timer = setInterval(changeBg, 1000);
                startWorker();

            }
            else {
                btn.style.position = "initial";
                check = 0;
                stopWorker();
                clearInterval(timer);

            }
        });

        // Web Worker
        function startWorker() {
            if (typeof (Worker) !== "undefined") {
                if (typeof (w) == "undefined") {
                    w = new Worker("workers.js");
                }
                w.onmessage = function (event) {
                    btn.innerHTML = event.data;
                };
            } else {
                alert("Sorry, your browser does not support Web Workers");
            }
        }
        function stopWorker() {
            w.terminate();
            w = undefined;
        }

        const personalInfo = document.createElement('div');
        personalInfo.setAttribute("id", 'person');
        const personTxt = document.createTextNode("Personal Info");
        personalInfo.appendChild(personTxt);
        personalInfo.style.position = "fixed";
        personalInfo.style.textDecoration = "underline";
        personalInfo.style.paddingTop = "10px";
        doc.appendChild(personalInfo);

        personalInfo.addEventListener('click', () => {

        });


    </script>
</body>

</html>